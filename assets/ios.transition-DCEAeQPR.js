import{j as o,k as U}from"./index-Dw61trZ4.js";const j=540,z=e=>document.querySelector(`${e}.ion-cloned-element`),_=e=>e.shadowRoot||e,W=e=>{const a=e.tagName==="ION-TABS"?e:e.querySelector("ion-tabs"),s="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(a!=null){const n=a.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return n!=null?n.querySelector(s):null}return e.querySelector(s)},M=(e,a)=>{const s=e.tagName==="ION-TABS"?e:e.querySelector("ion-tabs");let n=[];if(s!=null){const t=s.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");t!=null&&(n=t.querySelectorAll("ion-buttons"))}else n=e.querySelectorAll("ion-buttons");for(const t of n){const i=t.closest("ion-header"),$=i&&!i.classList.contains("header-collapse-condense-inactive"),E=t.querySelector("ion-back-button"),l=t.classList.contains("buttons-collapse"),m=t.slot==="start"||t.slot==="";if(E!==null&&m&&(l&&$&&a||!l))return E}return null},J=(e,a,s,n,t)=>{const i=M(n,s),$=W(t),E=W(n),l=M(t,s),m=i!==null&&$!==null&&!s,y=E!==null&&l!==null&&s;if(m){const f=$.getBoundingClientRect(),c=i.getBoundingClientRect();D(e,a,s,$,f,c),G(e,a,s,i,f,c)}else if(y){const f=E.getBoundingClientRect(),c=l.getBoundingClientRect();D(e,a,s,E,f,c),G(e,a,s,l,f,c)}return{forward:m,backward:y}},G=(e,a,s,n,t,i)=>{const $=a?`calc(100% - ${i.right+4}px)`:`${i.left-4}px`,E=a?"7px":"-7px",l=a?"-4px":"4px",m=a?"-4px":"4px",y=a?"right":"left",f=a?"left":"right",c=[{offset:0,opacity:0,transform:`translate3d(${E}, ${t.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${l}, ${i.top-46}px, 0) scale(1)`}],S=[{offset:0,opacity:1,transform:`translate3d(${l}, ${i.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${E}, ${t.top-40}px, 0) scale(2.1)`}],F=s?S:c,P=[{offset:0,opacity:0,transform:`translate3d(${m}, ${i.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${m}, ${i.top-46}px, 0) scale(1)`}],w=[{offset:0,opacity:1,transform:`translate3d(${m}, ${i.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${m}, ${i.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${m}, ${i.top-41}px, 0) scale(0.6)`}],g=s?w:P,b=o(),O=o(),T=z("ion-back-button"),K=_(T).querySelector(".button-text"),r=_(T).querySelector("ion-icon");T.text=n.text,T.mode=n.mode,T.icon=n.icon,T.color=n.color,T.disabled=n.disabled,T.style.setProperty("display","block"),T.style.setProperty("position","fixed"),O.addElement(r),b.addElement(K),b.beforeStyles({"transform-origin":`${y} center`}).beforeAddWrite(()=>{n.style.setProperty("display","none"),T.style.setProperty(y,$)}).afterAddWrite(()=>{n.style.setProperty("display",""),T.style.setProperty("display","none"),T.style.removeProperty(y)}).keyframes(F),O.beforeStyles({"transform-origin":`${f} center`}).keyframes(g),e.addAnimation([b,O])},D=(e,a,s,n,t,i)=>{const $=a?`calc(100% - ${t.right}px)`:`${t.left}px`,E=a?"-18px":"18px",l=a?"right":"left",m=[{offset:0,opacity:0,transform:`translate3d(${E}, ${i.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${t.top-2}px, 0) scale(1)`}],y=[{offset:0,opacity:.99,transform:`translate3d(0, ${t.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${E}, ${i.top-4}px, 0) scale(0.5)`}],f=s?m:y,c=z("ion-title"),S=o();c.innerText=n.innerText,c.size=n.size,c.color=n.color,S.addElement(c),S.beforeStyles({"transform-origin":`${l} center`,height:"46px",display:"",position:"relative",[l]:$}).beforeAddWrite(()=>{n.style.setProperty("display","none")}).afterAddWrite(()=>{n.style.setProperty("display",""),c.style.setProperty("display","none")}).keyframes(f),e.addAnimation(S)},V=(e,a)=>{var s;try{const n="cubic-bezier(0.32,0.72,0,1)",t="opacity",i="transform",l=e.ownerDocument.dir==="rtl",m=l?"-99.5%":"99.5%",y=l?"33%":"-33%",f=a.enteringEl,c=a.leavingEl,S=a.direction==="back",F=f.querySelector(":scope > ion-content"),P=f.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),w=f.querySelectorAll(":scope > ion-header > ion-toolbar"),g=o(),b=o();if(g.addElement(f).duration(((s=a.duration)!==null&&s!==void 0?s:0)||j).easing(a.easing||n).fill("both").beforeRemoveClass("ion-page-invisible"),c&&e!==null&&e!==void 0){const r=o();r.addElement(e),g.addAnimation(r)}if(!F&&w.length===0&&P.length===0?b.addElement(f.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")):(b.addElement(F),b.addElement(P)),g.addAnimation(b),S?b.beforeClearStyles([t]).fromTo("transform",`translateX(${y})`,"translateX(0%)").fromTo(t,.8,1):b.beforeClearStyles([t]).fromTo("transform",`translateX(${m})`,"translateX(0%)"),F){const r=_(F).querySelector(".transition-effect");if(r){const C=r.querySelector(".transition-cover"),q=r.querySelector(".transition-shadow"),R=o(),d=o(),p=o();R.addElement(r).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),d.addElement(C).beforeClearStyles([t]).fromTo(t,0,.1),p.addElement(q).beforeClearStyles([t]).fromTo(t,.03,.7),R.addAnimation([d,p]),b.addAnimation([R])}}const O=f.querySelector("ion-header.header-collapse-condense"),{forward:T,backward:K}=J(g,l,S,f,c);if(w.forEach(r=>{const C=o();C.addElement(r),g.addAnimation(C);const q=o();q.addElement(r.querySelector("ion-title"));const R=o(),d=Array.from(r.querySelectorAll("ion-buttons,[menuToggle]")),p=r.closest("ion-header"),v=p?.classList.contains("header-collapse-condense-inactive");let A;S?A=d.filter(h=>{const N=h.classList.contains("buttons-collapse");return N&&!v||!N}):A=d.filter(h=>!h.classList.contains("buttons-collapse")),R.addElement(A);const X=o();X.addElement(r.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const u=o();u.addElement(_(r).querySelector(".toolbar-background"));const x=o(),I=r.querySelector("ion-back-button");if(I&&x.addElement(I),C.addAnimation([q,R,X,u,x]),R.fromTo(t,.01,1),X.fromTo(t,.01,1),S)v||q.fromTo("transform",`translateX(${y})`,"translateX(0%)").fromTo(t,.01,1),X.fromTo("transform",`translateX(${y})`,"translateX(0%)"),x.fromTo(t,.01,1);else if(O||q.fromTo("transform",`translateX(${m})`,"translateX(0%)").fromTo(t,.01,1),X.fromTo("transform",`translateX(${m})`,"translateX(0%)"),u.beforeClearStyles([t,"transform"]),p?.translucent?u.fromTo("transform",l?"translateX(-100%)":"translateX(100%)","translateX(0px)"):u.fromTo(t,.01,"var(--opacity)"),T||x.fromTo(t,.01,1),I&&!T){const N=o();N.addElement(_(I).querySelector(".button-text")).fromTo("transform",l?"translateX(-100px)":"translateX(100px)","translateX(0px)"),C.addAnimation(N)}}),c){const r=o(),C=c.querySelector(":scope > ion-content"),q=c.querySelectorAll(":scope > ion-header > ion-toolbar"),R=c.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(!C&&q.length===0&&R.length===0?r.addElement(c.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")):(r.addElement(C),r.addElement(R)),g.addAnimation(r),S){r.beforeClearStyles([t]).fromTo("transform","translateX(0%)",l?"translateX(-100%)":"translateX(100%)");const d=U(c);g.afterAddWrite(()=>{g.getDirection()==="normal"&&d.style.setProperty("display","none")})}else r.fromTo("transform","translateX(0%)",`translateX(${y})`).fromTo(t,1,.8);if(C){const d=_(C).querySelector(".transition-effect");if(d){const p=d.querySelector(".transition-cover"),v=d.querySelector(".transition-shadow"),A=o(),X=o(),u=o();A.addElement(d).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),X.addElement(p).beforeClearStyles([t]).fromTo(t,.1,0),u.addElement(v).beforeClearStyles([t]).fromTo(t,.7,.03),A.addAnimation([X,u]),r.addAnimation([A])}}q.forEach(d=>{const p=o();p.addElement(d);const v=o();v.addElement(d.querySelector("ion-title"));const A=o(),X=d.querySelectorAll("ion-buttons,[menuToggle]"),u=d.closest("ion-header"),x=u?.classList.contains("header-collapse-condense-inactive"),I=Array.from(X).filter(Y=>{const L=Y.classList.contains("buttons-collapse");return L&&!x||!L});A.addElement(I);const h=o(),N=d.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");N.length>0&&h.addElement(N);const B=o();B.addElement(_(d).querySelector(".toolbar-background"));const k=o(),H=d.querySelector("ion-back-button");if(H&&k.addElement(H),p.addAnimation([v,A,h,k,B]),g.addAnimation(p),k.fromTo(t,.99,0),A.fromTo(t,.99,0),h.fromTo(t,.99,0),S){if(x||v.fromTo("transform","translateX(0%)",l?"translateX(-100%)":"translateX(100%)").fromTo(t,.99,0),h.fromTo("transform","translateX(0%)",l?"translateX(-100%)":"translateX(100%)"),B.beforeClearStyles([t,"transform"]),u?.translucent?B.fromTo("transform","translateX(0px)",l?"translateX(-100%)":"translateX(100%)"):B.fromTo(t,"var(--opacity)",0),H&&!K){const L=o();L.addElement(_(H).querySelector(".button-text")).fromTo("transform","translateX(0%)",`translateX(${(l?-124:124)+"px"})`),p.addAnimation(L)}}else x||v.fromTo("transform","translateX(0%)",`translateX(${y})`).fromTo(t,.99,0).afterClearStyles([i,t]),h.fromTo("transform","translateX(0%)",`translateX(${y})`).afterClearStyles([i,t]),k.afterClearStyles([t]),v.afterClearStyles([t]),A.afterClearStyles([t])})}return g}catch(n){throw n}};export{V as iosTransitionAnimation,_ as shadow};
